<!-- Mostrar alerta mejorada si hay error en el registro -->
<?php if (isset($_SESSION['errorregistro'])) : ?>
    <div class="alerta-custom position-fixed top-0 start-50 translate-middle-x col-10 col-md-6 mt-3">
        <div class="alert alert-danger alert-dismissible fade show shadow" role="alert">
            <strong>Información: </strong> <?= $_SESSION['errorregistro'] ?>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    </div>
<?php endif; ?>
<?php helps::deleteSession('errorregistro'); ?>

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-12 col-md-8">
            <h2 class="text-center mb-4">Registro de Dirección</h2>
            <form action="<?= init . direction . registerDirection ?>" method="post" class="p-4 bg-light rounded shadow-lg">
                <div class="form-group mb-3">
                    <label for="department">Departamento <i class="fas fa-building ms-1"></i></label>
                    <select name="department" class="form-control" required>
                        <?php foreach ($listDepartments as $departments) : ?>
                            <option value="<?= $departments['DEPARTMENT_ID'] ?>"><?= $departments['NAME'] ?></option>
                        <?php endforeach; ?>
                    </select>
                </div>
                <div class="form-group mb-3">
                    <label for="city">Ciudad <i class="fas fa-city ms-1"></i></label>
                    <input type="text" name="city" class="form-control" placeholder="Ingrese la ciudad" required>
                </div>
                <div class="form-group mb-3">
                    <label for="carrer">Carrera <i class="fas fa-road ms-1"></i></label>
                    <input type="text" name="carrer" class="form-control" placeholder="Ingrese la carrera" required>
                </div>
                <div class="form-group mb-3">
                    <label for="street">Calle <i class="fas fa-road ms-1"></i></label>
                    <input type="text" name="street" class="form-control" placeholder="Ingrese la calle" required>
                </div>
                <div class="form-group mb-3">
                    <label for="postalCode">Código Postal <i class="fas fa-envelope ms-1"></i></label>
                    <input type="number" name="postalCode" class="form-control" placeholder="Ingrese el código postal" required>
                </div>
                <div class="form-group mb-3">
                    <label for="direction">Dirección <i class="fas fa-map-marker-alt ms-1"></i></label>
                    <textarea name="direction" class="form-control" rows="3" placeholder="Ingrese la dirección completa"></textarea>
                </div>
                <div class="d-flex justify-content-center mt-4">
                    <button type="submit" class="btn btn-success w-50">Crear</button>
                </div>
            </form>
        </div>
        <div class="col-12 col-md-3 text-center mt-4 mt-md-0">
            <img id="imgRegister" class="img-fluid rounded shadow-sm" src="assets/images/logos/MAP.jpeg" alt="Mapa">
        </div>
    </div>
</div>

<style>
    .alerta-custom {
        z-index: 1050; /* Asegura que la alerta esté visible */
    }
    form {
        border-radius: 8px;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .form-control {
        border-radius: 6px;
        border: 1px solid #ced4da;
        transition: border-color 0.3s;
    }
    .form-control:focus {
        border-color: #80bdff;
        box-shadow: 0 0 5px rgba(0, 123, 255, 0.25);
    }
    .btn-success {
        border-radius: 6px;
        background: linear-gradient(135deg,#285ec7,#285ec7);
        border: none;
        transition: background 0.3s;
    }
    .btn-success:hover {
        background: linear-gradient(135deg,#285ec7, #285ec7);
    }
    .fas {
        font-size: 1.2rem;
    }
</style>
